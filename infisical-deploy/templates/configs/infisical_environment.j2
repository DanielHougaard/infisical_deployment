# DEFAULT ENVIRONMENT GENERATED BY INFISICAL
# IF YOU MODIFY THIS CONFIG FILE AND RE-RUN THE INFISICAL DEPLOYMENT AUTOMATION, THIS WILL BE OVERWRITTEN.

# Infisical Environment Configuration

DB_CONNECTION_URI={{ env_vars.DB_CONNECTION_URI | default(postgres_connection_uri) }}
REDIS_URL={{ env_vars.REDIS_URL | default(redis_connection_uri) }}

{% if env_vars.ENCRYPTION_KEY is defined %}
ENCRYPTION_KEY={{ env_vars.ENCRYPTION_KEY }}
{% elif existing_encryption_key %}
ENCRYPTION_KEY={{ existing_encryption_key }}
{% else %}
ENCRYPTION_KEY={{ lookup('pipe', 'openssl rand -hex 16') }}
{% endif %}

{% if env_vars.AUTH_SECRET is defined %}
AUTH_SECRET={{ env_vars.AUTH_SECRET }}
{% elif existing_auth_secret %}
AUTH_SECRET={{ existing_auth_secret }}
{% else %}
AUTH_SECRET={{ lookup('pipe', 'openssl rand -base64 32') }}
{% endif %}